zk.load('zul.wgt',function(){if(zk._p=zkpi('zul.wnd'))try{
(function(){var f=[],q;function e(C){if(!C._lastSize){return}var z=C.$n(),w=zk(z),A=C._mode!="embedded",B=A?jq(z).offsetParent():jq(z).parent(),y=z.style;var v=zk.ie6_&&B[0].clientWidth==0?B[0].offsetWidth-B.zk.borderWidth():B[0].clientWidth,x=zk.ie6_&&B[0].clientHeight==0?B[0].offsetHeight-B.zk.borderHeight():B[0].clientHeight;if(!A){v-=B.zk.paddingWidth();v=w.revisedWidth(v);x-=B.zk.paddingHeight();x=w.revisedHeight(x)}y.width=jq.px0(v);y.height=jq.px0(x)}function a(w){var v=w.node;if(v.style.top&&v.style.top.indexOf("%")>=0){v.style.top=v.offsetTop+"px"}if(v.style.left&&v.style.left.indexOf("%")>=0){v.style.left=v.offsetLeft+"px"}zWatch.fire("onFloatUp",w.control)}function o(C,B,F){var w=C.control,v=C.node;p(w);var G=jq(v),y=G.find(">div:first"),D=y[0],A=y.nextAll("div:first")[0],x=jq(D).clone()[0],E=jq(A).clone()[0];jq(document.body).prepend('<div id="zk_wndghost" class="'+w.getZclass()+'-move-ghost" style="position:absolute;top:'+B[1]+"px;left:"+B[0]+"px;width:"+G.zk.offsetWidth()+"px;height:"+G.zk.offsetHeight()+"px;z-index:"+v.style.zIndex+'"><dl></dl></div>');C._wndoffs=B;v.style.visibility="hidden";var z=v.offsetHeight-D.offsetHeight-A.offsetHeight;v=jq("#zk_wndghost")[0];v.firstChild.style.height=jq.px0(zk(v.firstChild).revisedHeight(z));v.insertBefore(x,v.firstChild);v.insertBefore(E,v.lastChild);return v}function u(x,v){var w=x.node;v.style.top=jq.px(v.offsetTop+w.offsetTop-x._wndoffs[1]);v.style.left=jq.px(v.offsetLeft+w.offsetLeft-x._wndoffs[0]);document.body.style.cursor="";zWatch.fire("onMove")}function g(z,B,w){var x=z.node,A=z.control,v=w.domTarget,y;if(!v.id){v=v.parentNode}switch(v){case A.$n("close"):case A.$n("max"):case A.$n("min"):return true}if(A!=(y=zk.Widget.$(v))&&A.caption!=y){return true}if(!A.isSizable()||(x.offsetTop+4<B[1]&&x.offsetLeft+4<B[0]&&x.offsetLeft+x.offsetWidth-4>B[0])){return false}return true}function r(w,v){w.node.style.visibility="";var x=w.control;if(x._position&&x._position!="parent"){x._position=null}x.zsync();x._fireOnMove(v.data)}function m(x){var z=x._position,y=x.$n(),v=zk(y);if(!z&&(!y.style.top||!y.style.left)){var w=v.revisedOffset();if(!y.style.left){y.style.left=jq.px(w[0])}if(!y.style.top){y.style.top=jq.px(w[1])}}else{if(z=="parent"){d(x)}}v.makeVParent();zWatch.fireDown("onVParent",this);x.zsync();b(x);x.setTopmost();k(x)}function i(y){var A=y._position,z=y.$n(),w=zk(z);if(A=="parent"){d(y)}w.makeVParent();zWatch.fireDown("onVParent",this);y.zsync();b(y,true,false,true);var x=y.isRealVisible();y.setTopmost();if(!y._mask){var v=y._shadowWgt?y._shadowWgt.getBottomElement():null;y._mask=new zk.eff.FullMask({id:y.uuid+"-mask",anchor:v?v:y.$n(),zIndex:y._zIndex,visible:x})}if(x){c(y)}k(y)}function c(x){zk.currentModal=x;var w=f[0],v=zk.currentFocus;if(w){w._lastfocus=v}else{q=v}f.unshift(x);setTimeout(function(){zk.afterAnimate(function(){if(!zUtl.isAncestor(x,zk.currentFocus)){x.focus()}},-1)})}function l(x){f.$remove(x);if(zk.currentModal==x){var w=zk.currentModal=f[0],v=w?w._lastfocus:q;if(!w){q=null}if(!v||!v.desktop){v=w}if(v){if(x._updDOFocus===false){x._updDOFocus=v}else{v.focus(0)}}}x._lastfocus=null}function d(w){var x=w.$n(),v=zk(zk(x).vparentNode(true)).revisedOffset();w._offset=v;x.style.left=jq.px(v[0]+zk.parseInt(w._left));x.style.top=jq.px(v[1]+zk.parseInt(w._top))}function h(y,w){y._notSendMaximize=!w||!w.sendOnMaximize;y._updDOFocus=false;try{var v=y._lastSize;y.rerender(y._skipper);if(v){y._lastSize=v}var x;if(x=y._updDOFocus){x.focus(10)}}finally{delete y._updDOFocus;delete y._notSendMaximize}}function b(L,x,I,C){if(!L.desktop||L._mode=="embedded"){return}var z=L.$n(),G=L._position;if(G=="parent"){if(I){d(L)}return}if(!G&&!x){return}var K=z.style;K.position="absolute";var D=K.left,B=K.top;if(G!="nocenter"){zk(z).center(G)}var w=L._shadowWgt;if(G&&w){var v=w.opts,A=z.offsetLeft,J=z.offsetTop;if(G.indexOf("left")>=0&&v.left<0){K.left=jq.px(A-v.left)}else{if(G.indexOf("right")>=0&&v.right>0){K.left=jq.px(A-v.right)}}if(G.indexOf("top")>=0&&v.top<0){K.top=jq.px(J-v.top)}else{if(G.indexOf("bottom")>=0&&v.bottom>0){K.top=jq.px(J-v.bottom)}}}if(C&&!G){var F=zk.parseInt(z.style.top),E=jq.innerY();if(E){var H=F-E;if(H>100){z.style.top=jq.px0(F-(H-100))}}else{if(F>100){z.style.top="100px"}}}L.zsync();if(D!=K.left||B!=K.top){L._fireOnMove()}}function p(v){var w=v._shadowWgt;if(w){w.hide()}}function n(w){if(!w._sizer){w.domListen_(w.$n(),"onMouseMove");w.domListen_(w.$n(),"onMouseOut");var v=w.$class;w._sizer=new zk.Draggable(w,null,{stackup:true,overlay:true,draw:v._drawsizing,snap:v._snapsizing,initSensitivity:0,starteffect:v._startsizing,ghosting:v._ghostsizing,endghosting:v._endghostsizing,ignoredrag:v._ignoresizing,endeffect:v._aftersizing})}}function k(x){var w=x.$n("cap");if(w&&!x._drag){jq(w).addClass(x.getZclass()+"-header-move");var v=x.$class;x._drag=new zk.Draggable(x,null,{handle:w,stackup:true,fireOnMove:false,starteffect:v._startmove,ghosting:v._ghostmove,endghosting:v._endghostmove,ignoredrag:v._ignoremove,endeffect:v._aftermove,zIndex:99999})}}function s(v){return v=="modal"||v=="highlighted"}function t(C,B,A){var E=C._position,B=zk.parseInt(B),A=zk.parseInt(A),v=0,D=0;if(E=="parent"){var w=zk(C.$n()).vparentNode();if(w){var z=zk(w).revisedOffset();v=z[0];D=z[1]}}return[jq.px(B-v),jq.px(A-D)]}var j=zul.wnd.Window=zk.$extends(zul.Widget,{_mode:"embedded",_border:"none",_minheight:100,_minwidth:200,_shadow:true,$init:function(){this._fellows={};this.$supers("$init",arguments);this.listen({onMaximize:this,onClose:this,onMove:this,onSize:this.onSizeEvent,onZIndex:this},-1000);this._skipper=new zul.wnd.Skipper(this)},setMode:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_mode",(_zkf=function(){h(this)})),getMode:_zkf$=function(){return this._mode},isMode:_zkf$,setTitle:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_title",(function(){if(this.caption){this.caption.updateDomContent_()}else{h(this)}})),getTitle:_zkf$=function(){return this._title},isTitle:_zkf$,setBorder:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_border",(_zkf)),getBorder:_zkf$=function(){return this._border},isBorder:_zkf$,setClosable:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_closable",(_zkf)),getClosable:_zkf$=function(){return this._closable},isClosable:_zkf$,setSizable:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_sizable",(function(v){if(this.desktop){if(v){n(this)}else{if(this._sizer){this._sizer.destroy();this._sizer=null}}}})),getSizable:_zkf$=function(){return this._sizable},isSizable:_zkf$,setMaximizable:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_maximizable",(_zkf)),getMaximizable:_zkf$=function(){return this._maximizable},isMaximizable:_zkf$,setMinimizable:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_minimizable",(_zkf)),getMinimizable:_zkf$=function(){return this._minimizable},isMinimizable:_zkf$,setMaximized:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_maximized",(function(y,F){var I=this.$n();if(I){var M=zk(I),O=this.isRealVisible();if(!O&&y){return}var J,D,C,L,E=I.style,x=this.getZclass();if(y){jq(this.$n("max")).addClass(x+"-maxd");var v=this._mode!="embedded",A=v?jq(I).offsetParent():jq(I).parent();J=E.left;D=E.top;C=E.width;L=E.height;E.top="-10000px";E.left="-10000px";var H=zk.ie6_&&A[0].clientWidth==0?A[0].offsetWidth-A.zk.borderWidth():A[0].clientWidth,N=zk.ie6_&&A[0].clientHeight==0?A[0].offsetHeight-A.zk.borderHeight():A[0].clientHeight;if(!v){H-=A.zk.paddingWidth();H=M.revisedWidth(H);N-=A.zk.paddingHeight();N=M.revisedHeight(N)}E.width=jq.px0(H);E.height=jq.px0(N);this._lastSize={l:J,t:D,w:C,h:L};E.top="0";E.left="0";C=E.width;L=E.height}else{var K=this.$n("max"),z=jq(K);z.removeClass(x+"-maxd").removeClass(x+"-maxd-over");if(this._lastSize){E.left=this._lastSize.l;E.top=this._lastSize.t;E.width=this._lastSize.w;E.height=this._lastSize.h;this._lastSize=null}J=E.left;D=E.top;C=E.width;L=E.height;var B=this.$n("cave");if(B){B.style.width=B.style.height=""}}if(!F||O){this._visible=true;if(!this._notSendMaximize){var G=t(this,J,D);this.fire("onMaximize",{left:G[0],top:G[1],width:C,height:L,maximized:y,fromServer:F})}}if(O){zUtl.fireSized(this)}}})),getMaximized:_zkf$=function(){return this._maximized},isMaximized:_zkf$,setMinimized:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_minimized",(function(w,v){if(this._maximized){this.setMaximized(false)}var y=this.$n();if(y){var x=y.style;if(w){zWatch.fireDown("onHide",this);jq(y).hide()}else{jq(y).show();zUtl.fireShown(this)}if(!v){this._visible=false;this.zsync();var z=t(this,x.left,x.top);this.fire("onMinimize",{left:z[0],top:z[1],width:x.width,height:x.height,minimized:w})}}})),getMinimized:_zkf$=function(){return this._minimized},isMinimized:_zkf$,setContentStyle:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_contentStyle",(_zkf)),getContentStyle:_zkf$=function(){return this._contentStyle},isContentStyle:_zkf$,setContentSclass:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_contentSclass",(_zkf)),getContentSclass:_zkf$=function(){return this._contentSclass},isContentSclass:_zkf$,setPosition:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_position",(function(){b(this,false,this._visible)})),getPosition:_zkf$=function(){return this._position},isPosition:_zkf$,setMinheight:(function(v){return function(w){this[v]=w;return this}})("_minheight"),getMinheight:_zkf$=function(){return this._minheight},isMinheight:_zkf$,setMinwidth:(function(v){return function(w){this[v]=w;return this}})("_minwidth"),getMinwidth:_zkf$=function(){return this._minwidth},isMinwidth:_zkf$,setShadow:(function(v,w){return function(x,y){var z=this[v];this[v]=x;if(z!==x||(y&&y.force)){this.__fname__=v.substring(1);w.apply(this,arguments);delete this.__fname__}return this}})("_shadow",(function(){if(this._shadow){this.zsync()}else{if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}}})),getShadow:_zkf$=function(){return this._shadow},isShadow:_zkf$,repos:function(){b(this,false,this._visible)},doOverlapped:function(){this.setMode("overlapped")},doPopup:function(){this.setMode("popup")},doHighlighted:function(){this.setMode("highlighted")},doModal:function(){this.setMode("modal")},doEmbedded:function(){this.setMode("embedded")},afterAnima_:function(v){this.$supers("afterAnima_",arguments);this.zsync()},zsync:function(){this.$supers("zsync",arguments);if(this.desktop){if(this._mode=="embedded"){if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}}else{if(this._shadow){if(!this._shadowWgt){this._shadowWgt=new zk.eff.Shadow(this.$n(),{left:-4,right:4,top:-2,bottom:3})}if(this._maximized||this._minimized||!this._visible){p(this)}else{this._shadowWgt.sync()}}}if(this._mask){var v=(this._shadowWgt&&this._shadowWgt.getBottomElement())||this.$n();if(v){this._mask.sync(v)}}}},onClose:function(){if(!this.inServer){this.parent.removeChild(this)}},onMove:function(v){this._left=v.left;this._top=v.top},onMaximize:function(v){var w=v.data;this._top=w.top;this._left=w.left;this._height=w.height;this._width=w.width},onSizeEvent:function(v){var z=v.data,y=this.$n(),x=y.style;p(this);if(z.width!=x.width){x.width=z.width;this._fixWdh()}if(z.height!=x.height){x.height=z.height;this._fixHgh()}if(z.left!=x.left||z.top!=x.top){x.left=z.left;x.top=z.top;this._fireOnMove(v.keys)}this.zsync();var w=this;setTimeout(function(){zUtl.fireSized(w)},zk.ie6_?800:0)},onZIndex:_zkf=function(v){this.zsync()},onResponse:_zkf,onShow:function(x){var v=x.origin;if(this!=v&&this._mode!="embedded"&&this.isRealVisible({until:v,dom:true})){zk(this.$n()).cleanVisibility();this.zsync()}},onHide:function(x){var v=x.origin;if(this!=v&&this._mode!="embedded"&&this.isRealVisible({until:v,dom:true})){this.$n().style.visibility="hidden";this.zsync()}},beforeSize:function(){if(this._maximized){this.$n().style.width=""}},onSize:function(){p(this);if(this._maximized){e(this)}this._fixHgh();this._fixWdh();if(this._mode!="embedded"){b(this)}this.zsync()},onFloatUp:function(v){if(!this._visible||this._mode=="embedded"||this._mask){return}var x=v.origin;if(this._mode=="popup"){for(var w;x;x=x.parent){if(x==this){if(!w){this.setTopmost()}return}w=w||x.isFloating_()}this.setVisible(false);this.fire("onOpen",{open:false})}else{for(;x;x=x.parent){if(x==this){this.setTopmost();return}if(x.isFloating_()){return}}}},_fixWdh:zk.ie7_?function(){if(this._mode!="embedded"&&this._mode!="popup"&&this.isRealVisible()){var y=this.$n(),E=this.$n("cave").parentNode,A=y.style.width,B=jq(y),C=B.find(">div:first"),F=C[0],w=F&&this.$n("cap")?C.nextAll("div:first")[0]:null,z=B.find(">div:last")[0];if(!A||A=="auto"){var x=zk(E.parentNode),D=x.padBorderWidth()+zk(E.parentNode.parentNode).padBorderWidth();if(F){F.firstChild.style.width=jq.px0(E.offsetWidth+D)}if(w){w.firstChild.firstChild.style.width=jq.px(E.offsetWidth-(zk(w).padBorderWidth()+zk(w.firstChild).padBorderWidth()-D))}if(z){z.firstChild.style.width=jq.px0(E.offsetWidth+D)}}else{if(F){F.firstChild.style.width=""}if(w){w.firstChild.style.width=""}if(z){z.firstChild.style.width=""}if(this._hflex=="min"){zk(y).redoCSS()}}}else{if(zk.ie==7){var B=jq(this.$n()),C=B.find(">div:first"),v=B.find(">div:last");if(C.width()+v.width()){}}}}:zk.$void,_fixHgh:function(){if(this.isRealVisible()){var y=this.$n(),v=y.style.height,x=this.$n("cave"),w=x.style.height;if(v&&v!="auto"){zk(x).setOffsetHeight(this._offsetHeight(y))}else{if(w&&w!="auto"){if(zk.ie6_){x.style.height="0"}x.style.height=""}}}},_offsetHeight:function(z){var w=z.offsetHeight-this._titleHeight(z);if(zul.wnd.WindowRenderer.shallCheckBorder(this)){var y=this.$n("cave"),x=jq(z).find(">div:last")[0],v=this.$n("cap");w-=x.offsetHeight;if(y){w-=zk(y.parentNode).padBorderHeight()}if(v){w-=zk(v.parentNode).padBorderHeight()}}return w-zk(z).padBorderHeight()},_titleHeight:function(y){var x=this.$n("cap"),v=jq(y).find(">div:first"),w=v[0];return x?x.offsetHeight+w.offsetHeight:zul.wnd.WindowRenderer.shallCheckBorder(this)?w.offsetHeight:0},_fireOnMove:function(w){var v=this.$n().style,x=t(this,v.left,v.top);this.fire("onMove",zk.copy({left:x[0],top:x[1]},w),{ignorable:true})},setVisible:function(w){if(this._visible!=w){if(this._maximized){this.setMaximized(false)}else{if(this._minimized){this.setMinimized(false)}}var v=s(this._mode);if(w){b(this,v,true,v);if(v&&(!this.parent||this.parent.isRealVisible())){this.setTopmost();c(this)}}else{if(v){l(this)}}this.$supers("setVisible",arguments);if(!w){this.zsync()}}},setHeight:function(v){this.$supers("setHeight",arguments);if(this.desktop){zUtl.fireSized(this)}},setWidth:function(v){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this)}},setTop:function(){p(this);this.$supers("setTop",arguments);this.zsync()},setLeft:function(){p(this);this.$supers("setLeft",arguments);this.zsync()},setZIndex:_zkf=function(w){var v=this._zIndex;this.$supers("setZIndex",arguments);if(v!=w){this.zsync()}},setZindex:_zkf,focus_:function(y){var x=this.caption;if(!zk.mobile){for(var v=this.firstChild;v;v=v.nextSibling){if(v.desktop&&v!=x&&v.focus_(y)){return true}}}return x&&x.focus_(y)},getZclass:function(){var v=this._zclass;return v!=null?v:"z-window-"+this._mode},onChildAdded_:function(v){this.$supers("onChildAdded_",arguments);if(v.$instanceof(zul.wgt.Caption)){this.caption=v;this.rerender(this._skipper)}},onChildRemoved_:function(v){this.$supers("onChildRemoved_",arguments);if(v==this.caption){this.caption=null;this.rerender(this._skipper)}},insertChildHTML_:function(x,v,w){if(!x.$instanceof(zul.wgt.Caption)){this.$supers("insertChildHTML_",arguments)}},domStyle_:function(w){var v=this.$supers("domStyle_",arguments);if((!w||!w.visible)&&this._minimized){v="display:none;"+v}if(this._mode!="embedded"){v="position:absolute;"+v}return v},bind_:function(z,y,x){this.$supers(j,"bind_",arguments);var w=this._mode;zWatch.listen({onSize:this,onShow:this});if(zk.ie6_){zWatch.listen({beforeSize:this})}if(w!="embedded"){zWatch.listen({onFloatUp:this,onHide:this});this.setFloating_(true);if(s(w)){i(this)}else{m(this)}}if(this._sizable){n(this)}if(this._maximizable&&this._maximized){var v=this;x.push(function(){v._maximized=false;v.setMaximized(true,true)})}if(this._mode!="embedded"&&(!zk.css3)){jq.onzsync(this);zWatch.listen({onResponse:this})}},unbind_:function(){var v=this.$n();zk(v).beforeHideOnUnbind();v.style.visibility="hidden";if(!zk.css3){jq.unzsync(this)}if(this._shadowWgt){this._shadowWgt.destroy();this._shadowWgt=null}if(this._drag){this._drag.destroy();this._drag=null}if(this._sizer){this._sizer.destroy();this._sizer=null}if(this._mask){this._mask.destroy();this._mask=null}zk(v).undoVParent();zWatch.unlisten({onFloatUp:this,onSize:this,onShow:this,onHide:this,onResponse:this});if(zk.ie6_){zWatch.unlisten({beforeSize:this})}this.setFloating_(false);l(this);this.domUnlisten_(this.$n(),"onMouseMove");this.domUnlisten_(this.$n(),"onMouseOut");this.$supers(j,"unbind_",arguments)},_doMouseMove:function(v){if(this._sizer&&v.target==this){var z=this.$n(),y=this.$class._insizer(z,zk(z).revisedOffset(),v.pageX,v.pageY),w=this._mode=="embedded"?false:this.$n("cap"),x=this.getZclass();if(!this._maximized&&y){if(this._backupCursor==undefined){this._backupCursor=z.style.cursor}z.style.cursor=y==1?"n-resize":y==2?"ne-resize":y==3?"e-resize":y==4?"se-resize":y==5?"s-resize":y==6?"sw-resize":y==7?"w-resize":"nw-resize";if(w){jq(w).removeClass(x+"-header-move")}}else{z.style.cursor=this._backupCursor||"";if(w){jq(w).addClass(x+"-header-move")}}}},_doMouseOut:function(v){this.$n().style.cursor=this._backupCursor||""},doClick_:function(v){var w=v.domTarget;if(!w.id){w=w.parentNode}if(w){switch(w){case this.$n("close"):this.fire("onClose");break;case this.$n("max"):this.setMaximized(!this._maximized);break;case this.$n("min"):this.setMinimized(!this._minimized);break;default:this.$supers("doClick_",arguments);return}v.stop()}this.$supers("doClick_",arguments)},doMouseOver_:function(v){var x=this.getZclass(),y=v.domTarget;if(!y.id){y=y.parentNode}switch(y){case this.$n("close"):jq(y).addClass(x+"-icon-over "+x+"-close-over");break;case this.$n("max"):var w=this._maximized?" "+x+"-maxd-over":"";jq(y).addClass(x+"-icon-over "+x+"-max-over"+w);break;case this.$n("min"):jq(y).addClass(x+"-icon-over "+x+"-min-over");break}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(v){var w=this.getZclass(),y=v.domTarget;if(!y.id){y=y.parentNode}var x=jq(y);switch(y){case this.$n("close"):x.removeClass(w+"-close-over");x.removeClass(w+"-icon-over");break;case this.$n("max"):if(this._maximized){x.removeClass(w+"-maxd-over")}x.removeClass(w+"-max-over");x.removeClass(w+"-icon-over");break;case this.$n("min"):x.removeClass(w+"-min-over");x.removeClass(w+"-icon-over");break}this.$supers("doMouseOut_",arguments)},afterChildrenMinFlex_:function(v){this.$supers("afterChildrenMinFlex_",arguments);if(s(this._mode)){b(this,true)}},afterChildrenFlex_:function(v){this.$supers("afterChildrenFlex_",arguments);if(s(this._mode)){b(this,true)}},getChildMinSize_:function(v,w){if(!w.$instanceof(zul.wgt.Caption)){return this.$supers("getChildMinSize_",arguments)}},setFlexSizeH_:function(y,w,v,x){if(x){v+=this._titleHeight(y)+(zul.wnd.WindowRenderer.shallCheckBorder(this)?jq(y).find(">div:last")[0].offsetHeight:0)}this.$supers("setFlexSizeH_",arguments)},ignoreFlexSize_:function(v){return this._mode!="embedded"}},{_startsizing:function(v){zWatch.fire("onFloatUp",v.control)},_snapsizing:function(x,y){var w=(x.z_dir>=6&&x.z_dir<=8)?Math.max(y[0],0):y[0],v=(x.z_dir==8||x.z_dir<=2)?Math.max(y[1],0):y[1];return[w,v]},_ghostsizing:function(A,z,v){var y=A.control,x=A.node;p(y);y.setTopmost();var w=jq(x);jq(document.body).append('<div id="zk_ddghost" class="'+y.getZclass()+'-resize-faker" style="position:absolute;top:'+z[1]+"px;left:"+z[0]+"px;width:"+w.zk.offsetWidth()+"px;height:"+w.zk.offsetHeight()+"px;z-index:"+x.style.zIndex+'"><dl></dl></div>');return jq("#zk_ddghost")[0]},_endghostsizing:function(x,v){var w=x.node;if(v){x.z_szofs={top:w.offsetTop+"px",left:w.offsetLeft+"px",height:jq.px0(zk(w).revisedHeight(w.offsetHeight)),width:jq.px0(zk(w).revisedWidth(w.offsetWidth))}}},_insizer:function(A,B,w,C){var z=B[0]+A.offsetWidth,v=B[1]+A.offsetHeight;if(w-B[0]<=5){if(C-B[1]<=5){return 8}else{if(v-C<=5){return 6}else{return 7}}}else{if(z-w<=5){if(C-B[1]<=5){return 2}else{if(v-C<=5){return 4}else{return 3}}}else{if(C-B[1]<=5){return 1}else{if(v-C<=5){return 5}}}}},_ignoresizing:function(A,C,w){var y=A.node,B=A.control;if(B._maximized||w.target!=B){return true}var z=zk(y).revisedOffset(),x=B.$class._insizer(y,z,C[0],C[1]);if(x){p(B);A.z_dir=x;A.z_box={top:z[1],left:z[0],height:y.offsetHeight,width:y.offsetWidth,minHeight:zk.parseInt(B.getMinheight()),minWidth:zk.parseInt(B.getMinwidth())};A.z_orgzi=y.style.zIndex;return false}return true},_aftersizing:function(x,v){var y=x.control,w=x.z_szofs;y.fire("onSize",zk.copy(w,v.keys),{ignorable:true});x.z_szofs=null},_drawsizing:function(z,A,x){if(z.z_dir==8||z.z_dir<=2){var y=z.z_box.height+z.z_box.top-A[1];if(y<z.z_box.minHeight){A[1]=z.z_box.height+z.z_box.top-z.z_box.minHeight;y=z.z_box.minHeight}z.node.style.height=jq.px0(y);z.node.style.top=jq.px(A[1])}if(z.z_dir>=4&&z.z_dir<=6){var y=z.z_box.height+A[1]-z.z_box.top;if(y<z.z_box.minHeight){y=z.z_box.minHeight}z.node.style.height=jq.px0(y)}if(z.z_dir>=6&&z.z_dir<=8){var v=z.z_box.width+z.z_box.left-A[0];if(v<z.z_box.minWidth){A[0]=z.z_box.width+z.z_box.left-z.z_box.minWidth;v=z.z_box.minWidth}z.node.style.width=jq.px0(v);z.node.style.left=jq.px(A[0])}if(z.z_dir>=2&&z.z_dir<=4){var v=z.z_box.width+A[0]-z.z_box.left;if(v<z.z_box.minWidth){v=z.z_box.minWidth}z.node.style.width=jq.px0(v)}},_startmove:a,_ghostmove:o,_endghostmove:u,_ignoremove:g,_aftermove:r});zul.wnd.Skipper=zk.$extends(zk.Skipper,{$init:function(v){this._w=v},restore:function(){this.$supers("restore",arguments);var v=this._w;if(v._mode!="embedded"){b(v);v.zsync()}}});zul.wnd.WindowRenderer={shallCheckBorder:function(v){return v._mode!="popup"&&(v._mode!="embedded"||v.getBorder()!="none")}}})();
zkreg('zul.wnd.Window',true);zk._m={};
zk._m['default']=function(c,k){var b=this.getZclass(),a=this.uuid,h=this.getTitle(),j=this.caption,l=this.getContentStyle(),f=this.getContentSclass(),e=zul.wnd.WindowRenderer.shallCheckBorder(this),g=this._border;g="normal"==g?"":"none"==g?"-noborder":"-"+g;c.push("<div",this.domAttrs_(),">");if(j||h){c.push('<div class="',b,'-tl"><div class="',b,'-tr"></div></div><div class="',b,'-hl"><div class="',b,'-hr"><div class="',b,'-hm"><div id="',a,'-cap" class="',b,'-header">');if(j){j.redraw(c)}else{var d='<div class="'+b+'-icon-img"></div>';if(this._closable){c.push('<div id="',a,'-close" class="',b,"-icon ",b,'-close">',d,"</div>")}if(this._maximizable){c.push('<div id="',a,'-max" class="',b,"-icon ",b,"-max");if(this._maximized){c.push(" ",b,"-maxd")}c.push('">',d,"</div>")}if(this._minimizable){c.push('<div id="'+a,'-min" class="',b,"-icon ",b,'-min">',d,"</div>")}c.push(zUtl.encodeXML(h))}c.push("</div></div></div></div>")}else{if(e){c.push('<div class="',b,"-tl",g,'"><div class="',b,"-tr",g,'"></div></div>')}}if(e){c.push('<div class="',b,"-cl",g,'"><div class="',b,"-cr",g,'"><div class="',b,"-cm",g,'">')}c.push('<div id="',a,'-cave" class="');if(f){c.push(f," ")}c.push(b,"-cnt",g,'"');if(l){c.push(' style="',l,'"')}c.push(">");if(!k){for(var i=this.firstChild;i;i=i.nextSibling){if(i!=j){i.redraw(c)}}}c.push("</div>");if(e){c.push('</div></div></div><div class="',b,"-bl",g,'"><div class="',b,"-br",g,'"></div></div>')}c.push("</div>")};
;zkmld(zk._p.p.Window,zk._m);(function(){function a(c,b){while(c&&c.parentNode!=b){c=c.parentNode}return c}zul.wnd.Panel=zk.$extends(zul.Widget,{_border:"none",_title:"",_open:true,_minheight:100,_minwidth:200,$init:function(){this.$supers("$init",arguments);this.listen({onMaximize:this,onClose:this,onMove:this,onSize:this.onSizeEvent},-1000);this._skipper=new zul.wnd.PanelSkipper(this)},setMinheight:(function(b){return function(c){this[b]=c;return this}})("_minheight"),getMinheight:_zkf$=function(){return this._minheight},isMinheight:_zkf$,setMinwidth:(function(b){return function(c){this[b]=c;return this}})("_minwidth"),getMinwidth:_zkf$=function(){return this._minwidth},isMinwidth:_zkf$,setSizable:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_sizable",(function(b){if(this.desktop){if(b){this._makeSizer()}else{if(this._sizer){this._sizer.destroy();this._sizer=null}}}})),getSizable:_zkf$=function(){return this._sizable},isSizable:_zkf$,setMovable:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_movable",(_zkf=function(){var b=this._lastSize;this.rerender(this._skipper);if(b){this._lastSize=b}})),getMovable:_zkf$=function(){return this._movable},isMovable:_zkf$,setFloatable:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_floatable",(_zkf)),getFloatable:_zkf$=function(){return this._floatable},isFloatable:_zkf$,setMaximizable:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_maximizable",(_zkf)),getMaximizable:_zkf$=function(){return this._maximizable},isMaximizable:_zkf$,setMinimizable:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_minimizable",(_zkf)),getMinimizable:_zkf$=function(){return this._minimizable},isMinimizable:_zkf$,setCollapsible:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_collapsible",(_zkf)),getCollapsible:_zkf$=function(){return this._collapsible},isCollapsible:_zkf$,setClosable:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_closable",(_zkf)),getClosable:_zkf$=function(){return this._closable},isClosable:_zkf$,setBorder:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_border",(function(){var b=this._lastSize;this.rerender();if(b){this._lastSize=b}})),getBorder:_zkf$=function(){return this._border},isBorder:_zkf$,setTitle:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_title",(function(){if(this.caption){this.caption.updateDomContent_()}else{var b=this._lastSize;this.rerender(this._skipper);if(b){this._lastSize=b}}})),getTitle:_zkf$=function(){return this._title},isTitle:_zkf$,setOpen:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_open",(function(c,b){var d=this.$n();if(d){var f=this.getZclass(),e=jq(this.$n("body"));if(e[0]&&!e.is(":animated")){if(c){jq(d).removeClass(f+"-colpsd");e.zk.slideDown(this)}else{jq(d).addClass(f+"-colpsd");this._hideShadow();if(zk.ie6_&&!d.style.width){d.runtimeStyle.width="100%"}e.zk.slideUp(this)}if(!b){this.fire("onOpen",{open:c})}}}})),getOpen:_zkf$=function(){return this._open},isOpen:_zkf$,setMaximized:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_maximized",(function(d,m){var u=this.$n();if(u){var A=zk(u),C=A.isRealVisible();if(!C&&d){return}var v,j,g,y,k=u.style,c=this.getZclass();if(d){jq(this.$n("max")).addClass(c+"-maxd");this._hideShadow();if(this._collapsible&&!this._open){A.jq.removeClass(c+"-colpsd");var i=this.$n("body");if(i){i.style.display=""}}var b=this.isFloatable(),f=b?jq(u).offsetParent():jq(u).parent();var B=zk.ie6_&&f[0].clientHeight==0?f[0].offsetHeight-f.zk.borderHeight():f[0].clientHeight;if(zk.isLoaded("zkmax.layout")&&this.parent.$instanceof(zkmax.layout.Portalchildren)){var z=this.parent.parent;if(z.getMaximizedMode()=="whole"){this._inWholeMode=true;var q=z.$n(),r=q.style;B=zk.ie6_&&q.clientHeight==0?q.offsetHeight-jq(q).zk.borderHeight():q.clientHeight;var o=this._oldNodeInfo={_scrollTop:q.parentNode.scrollTop};q.parentNode.scrollTop=0;A.makeVParent();zWatch.fireDown("onVParent",this);o._pos=k.position;o._ppos=r.position;o._zIndex=k.zIndex;k.position="absolute";this.setFloating_(true);this.setTopmost();q.appendChild(u);r.position="relative";if(!r.height){r.height=jq.px0(B);o._pheight=true}if(zk.ie7_){zk(u).redoCSS()}}}var b=this.isFloatable(),f=b?jq(u).offsetParent():jq(u).parent();v=k.left;j=k.top;g=k.width;y=k.height;k.top="-10000px";k.left="-10000px";var n=zk.ie6_&&f[0].clientWidth==0?f[0].offsetWidth-f.zk.borderWidth():f[0].clientWidth;if(!b){n-=f.zk.paddingWidth();n=A.revisedWidth(n);B-=f.zk.paddingHeight();B=A.revisedHeight(B)}k.width=jq.px0(n);k.height=jq.px0(B);this._lastSize={l:v,t:j,w:g,h:y};k.top="0";k.left="0";g=k.width;y=k.height}else{var x=this.$n("max"),e=jq(x);e.removeClass(c+"-maxd").removeClass(c+"-maxd-over");if(this._lastSize){k.left=this._lastSize.l;k.top=this._lastSize.t;k.width=this._lastSize.w;k.height=this._lastSize.h;this._lastSize=null}v=k.left;j=k.top;g=k.width;y=k.height;if(this._collapsible&&!this._open){jq(u).addClass(c+"-colpsd");var i=this.$n("body");if(i){i.style.display="none"}}var i=this.panelchildren?this.panelchildren.$n():null;if(i){i.style.width=i.style.height=""}if(this._inWholeMode){A.undoVParent();zWatch.fireDown("onVParent",this);var o=this._oldNodeInfo;u.style.position=o?o._pos:"";this.setZIndex((o?o._zIndex:""),{fire:true});this.setFloating_(false);var q=this.parent.parent.$n();q.style.position=o?o._ppos:"";q.parentNode.scrollTop=o?o._scrollTop:0;if(o&&o._pheight){q.style.height=""}this._oldNodeInfo=null;this._inWholeMode=false}}if(!m&&C){this._visible=true;this.fire("onMaximize",{left:v,top:j,width:g,height:y,maximized:d,fromServer:m})}if(C){zUtl.fireSized(this)}}})),getMaximized:_zkf$=function(){return this._maximized},isMaximized:_zkf$,setMinimized:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_minimized",(function(e,d){if(this._maximized){this.setMaximized(false)}var j=this.$n();if(j){var i=j.style,c=i.left,f=i.top,b=i.width,g=i.height;if(e){zWatch.fireDown("onHide",this);jq(j).hide()}else{jq(j).show();zUtl.fireShown(this)}if(!d){this._visible=false;this.fire("onMinimize",{left:i.left,top:i.top,width:i.width,height:i.height,minimized:e})}}})),getMinimized:_zkf$=function(){return this._minimized},isMinimized:_zkf$,setTbar:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_tbar",(function(b){this.tbar=zk.Widget.$(b);if(this.bbar==this.tbar){this.bbar=null}if(this.fbar==this.tbar){this.fbar=null}this.rerender()})),getTbar:_zkf$=function(){return this._tbar},isTbar:_zkf$,setBbar:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_bbar",(function(b){this.bbar=zk.Widget.$(b);if(this.tbar==this.bbar){this.tbar=null}if(this.fbar==this.bbar){this.fbar=null}this.rerender()})),getBbar:_zkf$=function(){return this._bbar},isBbar:_zkf$,setFbar:(function(b,c){return function(d,e){var f=this[b];this[b]=d;if(f!==d||(e&&e.force)){this.__fname__=b.substring(1);c.apply(this,arguments);delete this.__fname__}return this}})("_fbar",(function(b){this.fbar=zk.Widget.$(b);if(this.tbar==this.fbar){this.tbar=null}if(this.bbar==this.fbar){this.bbar=null}this.rerender()})),getFbar:_zkf$=function(){return this._fbar},isFbar:_zkf$,setVisible:function(b){if(this._visible!=b){if(this._maximized){this.setMaximized(false)}else{if(this._minimized){this.setMinimized(false)}}this.$supers("setVisible",arguments)}},setHeight:function(){this.$supers("setHeight",arguments);if(this.desktop){zUtl.fireSized(this)}},setWidth:function(){this.$supers("setWidth",arguments);if(this.desktop){zUtl.fireSized(this)}},setTop:function(){this._hideShadow();this.$supers("setTop",arguments);this.zsync()},setLeft:function(){this._hideShadow();this.$supers("setLeft",arguments);this.zsync()},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){zUtl.fireSized(this)}},addToolbar:function(b,c){switch(b){case"tbar":this.tbar=c;break;case"bbar":this.bbar=c;break;case"fbar":this.fbar=c;break;default:return false}return this.appendChild(c)},onClose:function(){if(!this.inServer||!this.isListen("onClose",{asapOnly:1})){this.parent.removeChild(this)}},onMove:function(b){this._left=b.left;this._top=b.top},onMaximize:function(b){var c=b.data;this._top=c.top;this._left=c.left;this._height=c.height;this._width=c.width},onSizeEvent:function(b){var f=b.data,e=this.$n(),d=e.style;this._hideShadow();if(f.width!=d.width){d.width=f.width}if(f.height!=d.height){d.height=f.height;this._fixHgh()}if(f.left!=d.left||f.top!=d.top){d.left=f.left;d.top=f.top;this.fire("onMove",zk.copy({left:e.style.left,top:e.style.top},b.data),{ignorable:true})}this.zsync();var c=this;setTimeout(function(){zUtl.fireSized(c)},zk.ie6_?800:0)},setFlexSizeH_:function(e,c,b,d){if(d){b+=this._titleHeight(e)+(this._rounded()?jq(this.$n("body")).find(":last")[0].offsetHeight:0)}this.$supers("setFlexSizeH_",arguments)},beforeSize:function(){if(this._maximized){this.$n().style.width=""}if(!this._flexListened){this.$n("body").style.width=""}},resetSize_:function(b){this.$supers(zul.wnd.Panel,"resetSize_",arguments);(this.$n("body")).style[b=="w"?"width":"height"]=""},onSize:(function(){function b(j){if(!j._lastSize){return}var g=j.$n(),f=zk(g),h=j.isFloatable(),i=h?jq(g).offsetParent():jq(g).parent(),e=g.style;var c=zk.ie6_&&i[0].clientWidth==0?i[0].offsetWidth-i.zk.borderWidth():i[0].clientWidth;if(!h){c-=i.zk.paddingWidth();c=f.revisedWidth(c)}e.width=jq.px0(c);if(j._open){var d=zk.ie6_&&i[0].clientHeight==0?i[0].offsetHeight-i.zk.borderHeight():i[0].clientHeight;if(!h){d-=i.zk.paddingHeight();d=f.revisedHeight(d)}e.height=jq.px0(d)}}return function(c){this._hideShadow();if(this._maximized){b(this)}if(this.tbar){c.fireDown(this.tbar)}if(this.bbar){c.fireDown(this.bbar)}if(this.fbar){c.fireDown(this.fbar)}this._syncBodyWidth();this._fixHgh();this._fixWdh();this.zsync()}})(),onHide:function(){this._hideShadow()},_syncBodyWidth:zk.ie6_?function(){this.$n("body").style.width=this.$n().offsetWidth}:zk.$void,_fixHgh:function(){var c;if(!(c=this.panelchildren)||c.z_rod||!this.isRealVisible()){return}var e=this.$n(),b=c.$n(),d=e.style.height;if(d&&d!="auto"){zk(b).setOffsetHeight(this._offsetHeight(e))}if(zk.ie6_){zk(b).redoCSS()}},_fixWdh:function(){var d=this.panelchildren;if(!d||d.z_rod||!this.isRealVisible()){return}var b=d.$n(),f,h;if(b&&(f=b.style)&&(h=f.width)&&h!="auto"){var c=this.$n().clientWidth,g=b;if(this._rounded()){for(var e=0;e<3;e++){c=zk(g=g.parentNode).revisedWidth(c)}}f.width=zk(b).revisedWidth(c)+"px"}},_rounded:_zkf=function(){return this._border.startsWith("rounded")},isFramable:_zkf,_bordered:function(){var b;return(b=this._border)!="none"&&b!="rounded"},_offsetHeight:function(b,k){var f=b.offsetHeight-this._titleHeight(b);if(this._rounded()){var g=this.panelchildren.$n(),c=jq(this.$n("body")).find("> div:last-child")[0],j=this.$n("cap");f-=c.offsetHeight;if(g){f-=zk(g.parentNode).padBorderHeight()}if(j){f-=zk(j.parentNode).padBorderHeight()}}f-=zk(b).padBorderHeight();if(k){return f}var e=this.$n("tb"),i=this.$n("bb"),d=this.$n("fb");if(e){f-=e.offsetHeight}if(i){f-=i.offsetHeight}if(d){f-=d.offsetHeight}return f},_titleHeight:function(e){var c=this.isFramable(),b=this.$n("cap"),d=c||b?jq(e).find("> div:first-child")[0].offsetHeight:0;return b?(c?jq(e).find("> div:first-child").next()[0].offsetHeight:a(b,e).offsetHeight)+d:d},onFloatUp:function(b){if(!this._visible||!this.isFloatable()){return}for(var c=b.origin;c;c=c.parent){if(c==this){this.setTopmost();return}if(c.isFloating_()){return}}},_makeSizer:function(){if(!this._sizer){this.domListen_(this.$n(),"onMouseMove");this.domListen_(this.$n(),"onMouseOut");var b=this.$class;this._sizer=new zk.Draggable(this,null,{stackup:true,draw:b._drawsizing,snap:b._snapsizing,starteffect:b._startsizing,ghosting:b._ghostsizing,endghosting:b._endghostsizing,ignoredrag:b._ignoresizing,endeffect:b._aftersizing})}},_initFloat:function(){var c=this.$n();if(!c.style.top||!c.style.left){var b=zk(c).revisedOffset();c.style.left=jq.px(b[0]);c.style.top=jq.px(b[1])}c.style.position="absolute";if(this.isMovable()){this._initMove()}this.zsync();if(this.isRealVisible()){this.setTopmost()}},_initMove:function(c){var d=this.$n("cap");if(d&&!this._drag){jq(d).addClass(this.getZclass()+"-header-move");var b=this.$class;this._drag=new zk.Draggable(this,null,{handle:d,stackup:true,starteffect:b._startmove,ignoredrag:b._ignoremove,endeffect:b._aftermove})}},zsync:function(){this.$supers("zsync",arguments);if(!this.isFloatable()){if(this._shadow){this._shadow.destroy();this._shadow=null}}else{var b=this.$n("body");if(b&&zk(b).isRealVisible()){if(!this._shadow){this._shadow=new zk.eff.Shadow(this.$n(),{left:-4,right:4,top:-2,bottom:3})}if(this._maximized||this._minimized||!this._visible){this._hideShadow()}else{this._shadow.sync()}}}},_hideShadow:function(){var b=this._shadow;if(b){b.hide()}},bind_:function(g,f,e){this.$supers(zul.wnd.Panel,"bind_",arguments);zWatch.listen({onSize:this,onHide:this});if(zk.ie6_){zWatch.listen({beforeSize:this})}else{if(zk.ie7_){zk(this.$n()).redoCSS()}}var d=this.uuid,c=this.$class;if(this._sizable){this._makeSizer()}if(this.isFloatable()){zWatch.listen({onFloatUp:this});this.setFloating_(true);this._initFloat();if(!zk.css3){jq.onzsync(this)}}if(this._maximizable&&this._maximized){var b=this;e.push(function(){b._maximized=false;b.setMaximized(true,true)})}},unbind_:function(){if(this._inWholeMode){var c=this.$n(),b;zk(c).undoVParent();var d=this.parent;if(d&&(d=d.parent)&&(d=d.$n())&&(b=this._oldNodeInfo)){d.style.position=b._ppos;d.parentNode.scrollTop=b._scrollTop}this._inWholeMode=false}zWatch.unlisten({onSize:this,onHide:this,onFloatUp:this});if(zk.ie6_){zWatch.unlisten({beforeSize:this})}this.setFloating_(false);if(!zk.css3){jq.unzsync(this)}if(this._shadow){this._shadow.destroy();this._shadow=null}if(this._drag){this._drag.destroy();this._drag=null}if(this._sizer){this._sizer.destroy();this._sizer=null}this.domUnlisten_(this.$n(),"onMouseMove");this.domUnlisten_(this.$n(),"onMouseOut");this.$supers(zul.wnd.Panel,"unbind_",arguments)},_doMouseMove:function(b){if(this._sizer&&(b.target==this||b.target==this.panelchildren)){var g=this.$n(),f=this.$class._insizer(g,zk(g).revisedOffset(),b.pageX,b.pageY),d=this.isMovable()?this.$n("cap"):false,e=this.getZclass();if(!this._maximized&&this._open&&f){if(this._backupCursor==undefined){this._backupCursor=g.style.cursor}g.style.cursor=f==1?"n-resize":f==2?"ne-resize":f==3?"e-resize":f==4?"se-resize":f==5?"s-resize":f==6?"sw-resize":f==7?"w-resize":"nw-resize";if(d){jq(d).removeClass(e+"-header-move")}}else{g.style.cursor=this._backupCursor||"";if(d){jq(d).addClass(e+"-header-move")}}}},_doMouseOut:function(b){this.$n().style.cursor=this._backupCursor||""},doClick_:function(c){var e=this.$n("max"),f=this.$n("min"),g=this.getZclass(),h=c.domTarget;if(!h.id){h=h.parentNode}switch(h){case this.$n("close"):this.fire("onClose");break;case e:this.setMaximized(!this._maximized);jq(e).removeClass(g+"-max-over");break;case f:this.setMinimized(!this._minimized);jq(f).removeClass(g+"-min-over");break;case this.$n("exp"):var b=this.$n("body"),d=b?zk(b).isVisible():this._open;if(!d==this._open){this._open=d}this.setOpen(!d);break;default:this.$supers("doClick_",arguments);return}c.stop()},doMouseOver_:function(b){var d=this.getZclass(),e=b.domTarget;if(!e.id){e=e.parentNode}switch(e){case this.$n("close"):jq(e).addClass(d+"-icon-over "+d+"-close-over");break;case this.$n("max"):var c=this._maximized?" "+d+"-maxd-over":"";jq(e).addClass(d+"-icon-over "+d+"-max-over"+c);break;case this.$n("min"):jq(e).addClass(d+"-icon-over "+d+"-min-over");break;case this.$n("exp"):jq(e).addClass(d+"-icon-over "+d+"-exp-over");break}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(b){var c=this.getZclass(),e=b.domTarget;if(!e.id){e=e.parentNode}var d=jq(e);switch(e){case this.$n("close"):d.removeClass(c+"-close-over");d.removeClass(c+"-icon-over");break;case this.$n("max"):if(this._maximized){d.removeClass(c+"-maxd-over")}d.removeClass(c+"-max-over");d.removeClass(c+"-icon-over");break;case this.$n("min"):d.removeClass(c+"-min-over");d.removeClass(c+"-icon-over");break;case this.$n("exp"):d.removeClass(c+"-exp-over");d.removeClass(c+"-icon-over");break}this.$supers("doMouseOut_",arguments)},domClass_:function(e){var c=this.$supers("domClass_",arguments);if(!e||!e.zclass){var d=this.getZclass();var b=this._bordered()?"":d+"-noborder";if(b){c+=(c?" ":"")+b}b=this._open?"":d+"-colpsd";if(b){c+=(c?" ":"")+b}}return c},onChildAdded_:function(b){this.$supers("onChildAdded_",arguments);if(b.$instanceof(zul.wgt.Caption)){this.caption=b}else{if(b.$instanceof(zul.wnd.Panelchildren)){this.panelchildren=b}else{if(b.$instanceof(zul.wgt.Toolbar)){if(this.firstChild==b||(this.nChildren==(this.caption?2:1))){this.tbar=b}else{if(this.lastChild==b&&b.previousSibling.$instanceof(zul.wgt.Toolbar)){this.fbar=b}else{if(b.previousSibling.$instanceof(zul.wnd.Panelchildren)){this.bbar=b}}}}}}this.rerender()},onChildRemoved_:function(b){this.$supers("onChildRemoved_",arguments);if(b==this.caption){this.caption=null}else{if(b==this.panelchildren){this.panelchildren=null}else{if(b==this.tbar){this.tbar=null}else{if(b==this.bbar){this.bbar=null}else{if(b==this.fbar){this.fbar=null}}}}}if(!this.childReplacing_){this.rerender()}},onChildVisible_:function(b){this.$supers("onChildVisible_",arguments);if((b==this.tbar||b==this.bbar||b==this.fbar)&&this.$n()){this._fixHgh()}},getChildMinSize_:function(b,c){if(!c.$instanceof(zul.wgt.Caption)){return this.$supers("getChildMinSize_",arguments)}}},{_startmove:function(c){c.control._hideShadow();var b=c.node;if(b.style.top&&b.style.top.indexOf("%")>=0){b.style.top=b.offsetTop+"px"}if(b.style.left&&b.style.left.indexOf("%")>=0){b.style.left=b.offsetLeft+"px"}},_ignoremove:function(d,f,c){var e=d.control,b=c.domTarget;if(!b.id){b=b.parentNode}switch(b){case e.$n("close"):case e.$n("max"):case e.$n("min"):case e.$n("exp"):return true}return false},_aftermove:function(c,b){c.control.zsync()},_startsizing:zul.wnd.Window._startsizing,_ghostsizing:zul.wnd.Window._ghostsizing,_endghostsizing:zul.wnd.Window._endghostsizing,_insizer:zul.wnd.Window._insizer,_ignoresizing:function(f,h,b){var d=f.node,g=f.control;if(g._maximized||!g._open||(b.target!=g&&b.target!=g.panelchildren)){return true}var e=zk(d).revisedOffset(),c=g.$class._insizer(d,e,h[0],h[1]);if(c){g._hideShadow();f.z_dir=c;f.z_box={top:e[1],left:e[0],height:d.offsetHeight,width:d.offsetWidth,minHeight:zk.parseInt(g.getMinheight()),minWidth:zk.parseInt(g.getMinwidth())};f.z_orgzi=d.style.zIndex;return false}return true},_snapsizing:zul.wnd.Window._snapsizing,_aftersizing:zul.wnd.Window._aftersizing,_drawsizing:zul.wnd.Window._drawsizing});zul.wnd.PanelSkipper=zk.$extends(zk.Skipper,{$init:function(b){this._p=b},skip:function(d,c){var b;if(b=jq(c||(d.uuid+"-body"),zk)[0]){b.parentNode.removeChild(b);return b}},restore:function(){this.$supers("restore",arguments);this._p.zsync()}});zul.wnd.PanelRenderer={isFrameRequired:function(b){return true}}})();
zkreg('zul.wnd.Panel');zk._m={};
zk._m['default']=function(d,k){var b=this.getZclass(),a=this.uuid,g=this.getTitle(),j=this.caption,h=zul.wnd.PanelRenderer.isFrameRequired(this),c=this._rounded(),f=!this._bordered(),i=!j&&!g;d.push("<div",this.domAttrs_(),">");if(j||g){if(h){d.push('<div class="',b,'-tl"><div class="',b,'-tr"></div></div>');d.push('<div class="',b,'-hl"><div class="',b,'-hr"><div class="',b,'-hm">')}d.push('<div id="',a,'-cap" class="',b,"-header ");if(!c&&f){d.push(b,"-header-noborder")}d.push('">');if(!j){var e='<div class="'+b+'-icon-img"></div>';if(this._closable){d.push('<div id="',a,'-close" class="',b,"-icon ",b,'-close">',e,"</div>")}if(this._maximizable){d.push('<div id="',a,'-max" class="',b,"-icon ",b,"-max");if(this._maximized){d.push(" ",b,"-maxd")}d.push('">',e,"</div>")}if(this._minimizable){d.push('<div id="',a,'-min" class="',b,"-icon ",b,'-min">',e,"</div>")}if(this._collapsible){d.push('<div id="',a,'-exp" class="',b,"-icon ",b,'-exp">',e,"</div>")}d.push(zUtl.encodeXML(g))}else{j.redraw(d)}d.push("</div>");if(h){d.push("</div></div></div>")}}else{if(c){d.push('<div class="',b,"-tl ",b,'-tl-gray"><div class="',b,"-tr ",b,'-tr-gray"></div></div>')}}d.push('<div id="',a,'-body" class="',b,'-body"');if(!this._open){d.push(' style="display:none;"')}d.push(">");if(!k){if(c){d.push('<div class="',b,'-cl"><div class="',b,'-cr"><div class="',b,"-cm");if(i){d.push(" ",b,"-noheader")}d.push('">')}if(this.tbar){d.push('<div id="',a,'-tb" class="',b,"-top");if(f){d.push(" ",b,"-top-noborder")}if(i){d.push(" ",b,"-noheader")}d.push('">');this.tbar.redraw(d);d.push("</div>")}if(this.panelchildren){this.panelchildren.redraw(d)}if(this.bbar){d.push('<div id="',a,'-bb" class="',b,"-btm");if(f){d.push(" ",b,"-btm-noborder")}if(i){d.push(" ",b,"-noheader")}d.push('">');this.bbar.redraw(d);d.push("</div>")}if(c){d.push('</div></div></div><div class="',b,"-fl");if(!this.fbar){d.push(" ",b,"-nobtm2")}d.push('"><div class="',b,'-fr"><div class="',b,'-fm">')}if(this.fbar){d.push('<div id="',a,'-fb" class="',b,'-btm2">');this.fbar.redraw(d);d.push("</div>")}if(c){d.push('</div></div></div><div class="',b,'-bl"><div class="',b,'-br"></div></div>')}}d.push("</div></div>")};
;zkmld(zk._p.p.Panel,zk._m);zul.wnd.Panelchildren=zk.$extends(zul.Widget,{setHeight:zk.$void,setWidth:zk.$void,domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass();var a=!this.parent.getTitle()&&!this.parent.caption?c+"-noheader":"";if(a){b+=(b?" ":"")+a}a=this.parent._bordered()?"":c+"-noborder";if(a){b+=(b?" ":"")+a}}return b},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){zUtl.fireSized(this.parent)}},getParentSize_:function(a){var b=zk(a);return{height:b.revisedHeight(a.offsetHeight),width:b.revisedWidth(a.offsetWidth)}}});
zkreg('zul.wnd.Panelchildren',true);zk._m={};
zk._m['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
;zkmld(zk._p.p.Panelchildren,zk._m);zul.wnd.Messagebox={onBind:function(i,a){var c=i.$n(),e=c.parentNode.parentNode.parentNode,b=c.offsetWidth+e.cells[0].offsetWidth,d=i.$o(),j=d.$n("cave"),k=d.$n();b+=zk(j).padBorderWidth()+zk((j=j.parentNode)).padBorderWidth()+zk((j=j.parentNode)).padBorderWidth()+zk((j=j.parentNode)).padBorderWidth();k.style.width=jq.px0(Math.min(Math.max(b,zk.parseInt(a)),jq.innerWidth()-20));zk(k).center();var g=zk.parseInt(k.style.top),f=jq.innerY();if(f){var h=g-f;if(h>100){k.style.top=jq.px0(g-(h-100))}}else{if(g>100){k.style.top="100px"}}d.onSize()}};

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zul.wnd',1);